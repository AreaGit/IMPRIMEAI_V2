import { merge } from 'ramda'

import runTest from '../../test/runTest'

const findOptions = {
  connect: {
    api_key: 'abc123',
  },
  body: {
    api_key: 'abc123',
  },
}

test('client.register.contestations', () =>
  runTest(merge(findOptions, {
    method: 'GET',
    subject: client => client.register.contestations(),
    url: '/register/contestations',
  }))
)

test('client.register.contracts', () =>
  runTest(merge(findOptions, {
    method: 'GET',
    subject: client => client.register.contracts(),
    url: '/register/settlement_obligations/contracts',
  }))
)

test('client.register.createContestation', () =>
  runTest({
    connect: {
      api_key: 'abc123',
    },
    subject: client => client.register.createContestation({
      skip_contract: false,
      description: '',
      author: {
        email: '',
        system: 'API',
        user_agent: '',
      },
      original_asset_holder: {
        name: '',
        document: '',
      },
      contested: {
        name: '',
        document: '',
      },
      target: {
        key: '',
        type: 'Contract',
      },
      reason_code: 'SO04',
    }),
    method: 'POST',
    url: '/register/contestations',
    body: {
      api_key: 'abc123',
      skip_contract: false,
      description: '',
      author: {
        email: '',
        system: 'API',
        user_agent: '',
      },
      original_asset_holder: {
        name: '',
        document: '',
      },
      contested: {
        name: '',
        document: '',
      },
      target: {
        key: '',
        type: 'Contract',
      },
      reason_code: 'SO04',
    },
  })
)

test('client.register.settlementObligations', () =>
  runTest(merge(findOptions, {
    method: 'GET',
    subject: client => client.register.settlementObligations(),
    url: '/register/settlement_obligations',
  }))
)

